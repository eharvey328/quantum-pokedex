import Head from "next/head";
import { useRouter } from "next/router";

import { Layout, ListView } from "@components";
import normalizeQueryParam from "@lib/normalizeQueryParam";

export default function HomePage() {
  const { query } = useRouter();
  const search = normalizeQueryParam(query.q) ?? "";
  const type = normalizeQueryParam(query.type) ?? "";
  const favorite = normalizeQueryParam(query.favorite) ?? 0;

  return (
    <>
      <Head>
        <title>Pokédex</title>
        <meta name="description" content="Generated by create next app" />
      </Head>

      <Layout>
        <h1 className="h1">Pokédex</h1>
        <ListView search={search} type={type} favorite={+favorite} />
      </Layout>
    </>
  );
}
